<!DOCTYPE html>
<html lang="en">
	<head>
			<meta charset="utf-8">
			<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
			<link href="https://fonts.googleapis.com/css?family=Noto+Serif+TC:TC:200|Open+Sans" rel="stylesheet">
			<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
			integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA==" crossorigin="">
      <script src="scripts/jquery.js"></script>
      <script src="scripts/survey.jquery.js"></script>
			<script src="http://d3js.org/d3.v3.min.js"></script>
			<script src="scripts/gauge.js"></script>
	 		<style> .liquidFillGaugeText { font-family: Helvetica; font-weight: bold; } </style>
      <link href="css/survey.css" rel="stylesheet"/>
			<link rel="stylesheet" href="css/main.css">
			<title>You're Not Alone</title>
	</head>
	<body>
			<div class="wrapper">
			<header>
				<h1>You're Not Alone</h1>
			</header>

			<section id="intro">
					<p>Let's face it: In the United States, we don't speak openly about mental illness. Stigma keeps us quiet. Fear of judgment stops us from reaching out. Ignorance prevents us from getting the support we need.</p>

					<p>It’s easy to feel isolated.</p>

					<p>But the truth is, you're not alone. In fact, mental illness is more common than you might think. Almost 1 in 5 people in the U.S. experience mental illness in a given year, according to the <a href="https://www.nimh.nih.gov/health/statistics/mental-illness.shtml" target="blank">National Institute of Mental Health.</a>

					That’s equivalent to <b>43.8 million</b> people.</p>

					<p>Explore the bigger picture of mental illness below.</p>

			</section>

      <section id="map">
					<h2>Mental Illness Around the World</h2>
					<p>In 2004, World Health Organization researchers compiled the results of a three-year <a href="https://www.researchgate.net/publication/8533944_Prevalence_Severity_and_Unmet_Need_for_Treatment_of_Mental_Disorders_in_the_World_Health_Organization_World_Mental_Health_Surveys_The_WHO_World_Mental_Health_Survey_Consortium_JAMA_2004_291_2581_2590" target="blank">study</a> of over 60,000 adults in 14 countries to estimate the prevalence of mental illness across the globe. This map summarizes the study’s results.</p>
					<div id="container">
						<div id="mapid"></div>
					</div>
			</section>

      <section id="info">
					<h2>United States Mental Illness Statistics</h2>
					<p>Click the gauges to cycle through statistics sourced from the <a href="https://www.nami.org/Learn-More/Mental-Health-By-the-Numbers" target="blank">National Alliance on Mental Illness.</a></p>
						<div id="gagues">
							<div class="circle" id="youth">
									<figure>
									<svg id="fillgauge1" width="65%" height="200" onclick="gauge1.update(NewValue());"></svg>
									<figcaption>20% of youth ages 13-18 live with a mental health condition.</figcaption>
									</figure>
							</div>

							<div class="circle" id="adults">
									<figure>
									<svg id="fillgauge2" width="65%" height="200" onclick="gauge2.update(NewValue());"></svg>
									<figcaption>1 in 100 (2.4 million) American adults live with schizophrenia.</figcaption>
									</figure>
							</div>

							<div class="circle" id="race">
									<figure>
									<svg id="fillgauge3" width="65%" height="200" onclick="gauge3.update(NewValue());"></svg>
									<figcaption>28.3% of Native American/Alaskan Native adults live with a mental health condition.</figcaption>
									</figure>
							</div>
					</div>
			</section>

      <section id="form">
			<h2>Where to Get Help Now</h2>

			<div id="survey">
		      <div id="surveyElement"></div>
		      <div id="surveyResult"></div>
			</div>
      </section>

			<footer>
				<p>This website was created by Vincent McDonald for JOU3363: Intro to Web Apps at the University of Florida. See the code on GitHub <a href="https://github.com/vrmcdonald/mentalhealth" target="blank">here.</a></p><p>Survey code sourced from  <a href="https://surveyjs.io/" target="blank">survey.js</a> under its <a href="https://surveyjs.io/Licenses" target="blank">non-commercial license.</a>.</p>
				<p>Gauge code adapted from original work by <a href="http://bl.ocks.org/brattonc/5e5ce9beee483220e2f6" target="blank">Curtis Bratton</a> under the <a href="https://choosealicense.com/licenses/bsd-2-clause/" target="blank">BSD 2-Clause.</a></p>
			</footer>

		</div>
			<script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js" integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA==" crossorigin=""></script>
			<script src="scripts/mentalmap.js"></script>

			<script>
						var config1 = liquidFillGaugeDefaultSettings();
						config1.circleColor = "#FFF";
						config1.textColor = "#fff";
						config1.waveTextColor = "#FFAAAA";
						config1.waveColor = "#FFDDDD";
						config1.circleThickness = 0.2;
						config1.textVertPosition = 0.2;
						config1.waveAnimateTime = 1000;
						var gauge1 = loadLiquidFillGauge("fillgauge1", 20, config1);


						var config2 = liquidFillGaugeDefaultSettings();
						config2.circleColor = "#fff";
						config2.textColor = "#fff";
						config2.waveTextColor = "#805615";
						config2.waveColor = "#FFDDDD";
						config2.circleThickness = 0.1;
						config2.circleFillGap = 0.2;
						config2.textVertPosition = 0.8;
						config2.waveAnimateTime = 2000;
						config2.waveHeight = 0.3;
						config2.waveCount = 1;
						var gauge2= loadLiquidFillGauge("fillgauge2", 1.1, config2);

						var config3 = liquidFillGaugeDefaultSettings();
						config3.circleColor = "#fff";
						config2.waveColor = "#FFDDDD";
						config3.textVertPosition = 0.8;
						config3.waveAnimateTime = 5000;
						config3.waveHeight = 0.15;
						config3.waveAnimate = false;
						config3.waveOffset = 0.25;
						config3.valueCountUp = false;
						var gauge3 = loadLiquidFillGauge("fillgauge3", 28.3, config3);

						function NewValue(){
								if(Math.random() > .5){
										return Math.round(Math.random()*100);
								} else {
										return (Math.random()*100).toFixed(1);
								}
						}
					</script>

			<script src="scripts/form2.js"></script>

  </body>
</html>
